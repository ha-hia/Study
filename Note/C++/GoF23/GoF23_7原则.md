## 开闭原则

**体现：** 对拓展开放，对修改关闭，在不修改软件实体源代码的前提下，拓展功能满足新需求。

**实现：**  通过接口或抽象层类为软件实体定义相对稳定的抽象层，而将可变因素封装到相同的具体类中



## 里氏替换原则

**体现：** 开闭原则的补充，克服继承中重写父类造成可复用性差的缺点，防止因为拓展引入新的错误

**实现：**  

1. 使用继承机制时，避免子类重写父类的方法，子类中可以增加自己特有的方法
2. 当子类的方法重写父类的方法时，方法的前置条件（即方法的输入参数）要比父类的方法更宽松
3. 当子类的方法实现父类的方法时（重写或实现抽象方法），方法的后置条件（即方法的的输出/返回值）要比父类的方法更严格或相等

如果程序违背了里氏替换原则，则继承类的对象在基类出现的地方会出现运行错误。这时其修正方法是：取消原来的继承关系，重新设计它们之间的关系。



## 依赖倒置原则

**体现：** 高层模块不应该依赖底层模块，两者应该依赖其抽象；抽象不应该依赖细节，细节应该依赖抽象，**面向接口编程，不要面向实现编程 ** 

**实现：**  

1. 每个类尽量提供接口或抽象类，或者两者都具备。
2. 变量的声明类型尽量是接口或者是抽象类。
3. 任何类都不应该从具体类派生。
4. 使用继承时尽量遵循里氏替换原则。





## 单一职责原则

**体现：** 一个类有且仅有一个引起它变化的原因，否则类应该被拆分

**优点：**  

1. 降低类的复杂度。一个类只负责一项职责，其逻辑肯定要比负责多项职责简单得多。
2. 提高类的可读性。复杂性降低，自然其可读性会提高。
3. 提高系统的可维护性。可读性提高，那自然更容易维护了。
4. 变更引起的风险降低。变更是必然的，如果单一职责原则遵守得好，当修改一个功能时，可以显著降低对其他功能的影响。



类承担多个职责的缺点：

1. 一个职责的变化会削弱这个类实现其他的职责的能力
2. 为了满足其他某个职责时，不得不将不需要的职责包含进来，造成冗余代码或代码的浪费。



# 接口隔离原则

**体现：** 为各个类建立它们需要的专用接口，而不要试图去建立一个很庞大的接口供所有依赖它的类去调用。



**实现：**

1.  接口尽量小，但是要有限度。一个接口只服务于一个子模块或业务逻辑。
2. 为依赖接口的类定制服务。只提供调用者需要的方法，屏蔽不需要的方法。
3. 了解环境，拒绝盲从。每个项目或产品都有选定的环境因素，环境不同，接口拆分的标准就不同深入了解业务逻辑。
4. 提高内聚，减少对外交互。使接口用最少的方法去完成最多的事情。



**比较单一职责与接口隔离：**

接口隔离原则和单一职责都是为了提高类的内聚性、降低它们之间的耦合性，体现了封装的思想

* 单一职责原则注重的是职责，而接口隔离原则注重的是对接口依赖的隔离。
* 单一职责原则主要是约束类，它针对的是程序中的实现和细节；接口隔离原则主要约束接口，主要针对抽象和程序整体框架的构建。



# 迪米特法则

**体现：** 如果两个软件实体无须直接通信，那么就不应当发生直接的相互调用，可以通过第三方转发该调用。其目的是降低类之间的耦合度，提高模块的相对独立性。

**实现：**  

1. 从依赖者的角度来说，只依赖应该依赖的对象。
2. 从被依赖者的角度说，只暴露应该暴露的方法。



## 合成复用原则(组合/聚合复用原则)

**体现：** 软件复用时，要尽量先使用组合或者聚合等关联关系来实现，其次才考虑使用继承关系来实现。如果要使用继承关系，则必须严格遵循里氏替换原则。



**实现：**  

通过将已有的对象纳入新对象中，作为新对象的成员对象来实现的，新对象可以调用已有对象的功能，从而达到复用。



**继承与组合：**

1. 继承复用破坏了类的封装性。因为继承会将父类的实现细节暴露给子类，父类对子类是透明的，所以这种复用又称为“白箱”复用。
2. 子类与父类的耦合度高。父类的实现的任何改变都会导致子类的实现发生变化，这不利于类的扩展与维护。
3. 继承限制了复用的灵活性。从父类继承而来的实现是静态的，在编译时已经定义，所以在运行时不可能发生变化。
4. 组合维持了类的封装性。因为成分对象的内部细节是新对象看不见的，所以这种复用又称为“黑箱”复用。
5. 组合新旧类之间的耦合度低。这种复用所需的依赖较少，新对象存取成分对象的唯一方法是通过成分对象的接口。
6. 组合复用的灵活性高。这种复用可以在运行时动态进行，新对象可以动态地引用与成分对象类型相同的对象。



| 设计原则     | 归纳                                                         | 目的                                       |
| :----------- | :----------------------------------------------------------- | ------------------------------------------ |
| 开闭原则     | 对扩展开放，对修改关闭                                       | 降低维护带来的新风险                       |
| 依赖倒置原则 | 高层不应该依赖低层，要面向接口编程                           | 更利于代码结构的升级扩展                   |
| 单一职责原则 | 一个类只干一件事，实现类要单一                               | 便于理解，提高代码的可读性                 |
| 接口隔离原则 | 一个接口只干一件事，接口要精简单一                           | 功能解耦，高聚合、低耦合                   |
| 迪米特法则   | 不该知道的不要知道，一个类应该保持对其它对象最少的了解，降低耦合度 | 只和朋友交流，不和陌生人说话，减少代码臃肿 |
| 里氏替换原则 | 不要破坏继承体系，子类重写方法功能发生改变，不应该影响父类方法的含义 | 防止继承泛滥                               |
| 合成复用原则 | 尽量使用组合或者聚合关系实现代码复用，少使用继承             | 降低代码耦合                               |







